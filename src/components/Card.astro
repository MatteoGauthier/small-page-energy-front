---
// Card
import List from "../components/List.astro"
import type { CategoryWithLeaderboardPreview } from "../types"
import type { CategoriesLeaderboardPreview } from "../types/api/getCategoriesLeaderboardPreview"
import Button from "./Button.astro"

type Props = {
  name: string
  ranks: CategoriesLeaderboardPreview[number]["ranks"]
}

const props = Astro.props
---

<div class="card flex flex-col gap-10 justify-center bg-white border-blue500 border-solid p-8 h-fit border">
  <h3 class="sector text-center text-blue600 break-words">{props.name}</h3>
  <div class="flex flex-col gap-4 mt-4">
    {
      props.ranks.map((item, index) => {
        return (
          <List
            brand={item.website.name}
            number={`${index + 1}.`}
            weight={`${(item.siteWeight / 1000).toFixed()}Ko`}
            hasHr={index !== props.ranks.length}
          />
        )
      })
    }
  </div>
  <Button title="Voir le classement" href="" variant="tertiary" custom="w-fit" ; />
</div>

<style>
  h3.sector {
    font-size: 2.625rem;
  }

  .card {
    border-radius: 40px;
  }
</style>
